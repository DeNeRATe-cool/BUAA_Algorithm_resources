# J Malicious Mischance

* 一句话题意：$t=t_i$ 时 $x=x_i$ 的位置会出现一个金币，初始位置在 $x=0$ ，每个时刻可以向右移动一个单位或保持不动，当接近当 $t=t_i$ 时位于 $x_i$ 可以获得该金币，求能获得的最大金币数
* 显然有一个类似于 $G$ 题的 $O(n^2)$ 的做法，$f[i]=\max f[j]+1,x_j\le x_i,x_i-x_j\le t_i-t_j,t_j\le t_i$ 
* $\begin{cases}x_j\le x_i\\t_i-x_i\le t_j-x_j\\t_j\le t_i \end{cases}$ 观察发现转移满足一个三维偏序，而前两个式子相加可推出第三个式子
* 考虑如何解决这两个偏序问题，首先 $x_j\le x_i$ 的偏序可以通过排序解决
  * 树状数组：类似于逆序对的做法直接处理就行，这里为统计前缀最大值
  * 采用 $LIS$ （最长公共子序列）的做法，先按照 $x$ 递增排序，$x$ 相同时按照 $t$ 递增， $t$ 按照令 $b_i=x_i-x_j$ ，即为在 $\{b_n\}$ 中选择最长的一个子序列满足单调不减，采用 $O(n\log n)$ 的 $LIS$ 做法即可

